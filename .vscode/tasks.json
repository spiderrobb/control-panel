{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "build",
      "type": "shell",
      "command": "npm run build",
      "group": "build",
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": false
      },
      "options": {
        "shell": {
          "executable": "/bin/bash",
          "args": ["-c"]
        }
      }
    },
    {
      "label": "compile",
      "type": "shell",
      "command": "npm run compile",
      "group": "build",
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": false
      },
      "options": {
        "shell": {
          "executable": "/bin/bash",
          "args": ["-c"]
        }
      }
    },
    {
      "label": "watch",
      "type": "shell",
      "command": "npm run watch",
      "group": "build",
      "isBackground": true,
      "problemMatcher": ["$csc", "$jshint", "$eslint-stylish"],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": false
      },
      "options": {
        "shell": {
          "executable": "/bin/bash",
          "args": ["-c"]
        }
      }
    },
    // {
    //   "label": "lint",
    //   "type": "npm",
    //   "script": "lint",
    //   "group": "test",
    //   "problemMatcher": ["$eslint-stylish"]
    // },
    {
      "label": "test",
      "type": "npm",
      "script": "test",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "package",
      "type": "npm",
      "script": "package",
      "problemMatcher": []
    },
    {
      "label": "install",
      "type": "shell",
      "command": "install",
      "problemMatcher": []
    },
    {
      "label": "install-extension",
      "type": "shell",
      "command": "code --install-extension controlpanel-0.0.1.vsix && echo '\n‚úÖ Extension installed! Press Ctrl+R to reload VS Code window.\n'",
      "problemMatcher": [],
      "dependsOn": ["package"],
      "dependsOrder": "sequence",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared"
      }
    },
    {
      "label": "reinstall-extension",
      "type": "shell",
      "command": "code --uninstall-extension your-publisher-name.controlpanel && code --install-extension controlpanel-0.0.1.vsix && echo '\n‚úÖ Extension reinstalled! Press Ctrl+R to reload VS Code window.\n'",
      "problemMatcher": [],
      "dependsOn": ["package"],
      "dependsOrder": "sequence",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": true,
        "panel": "shared"
      }
    },
    {
      "label": "fail:exit1",
      "type": "shell",
      "command": "echo 'Task running...' && sleep 3 && echo 'Task failed!' && exit 1",
      "problemMatcher": []
    },
    {
      "label": "fail:exit2",
      "type": "shell",
      "command": "echo 'Starting task...' && sleep 3 && echo 'Misuse of shell command!' && exit 2",
      "problemMatcher": []
    },
    {
      "label": "fail:exit127",
      "type": "shell",
      "command": "echo 'Attempting to run...' && sleep 1 && nonexistentcommand",
      "problemMatcher": []
    },
    {
      "label": "fail:timeout",
      "type": "shell",
      "command": "echo 'Starting long operation...' && sleep 30 && exit 1",
      "problemMatcher": []
    },
    {
      "label": "fail:pytest",
      "type": "shell",
      "command": "cd ${workspaceFolder} && python3 -m pytest test_failures.py -v || exit $?",
      "problemMatcher": []
    },
    {
      "label": "fail:jest",
      "type": "shell",
      "command": "cd ${workspaceFolder} && npx jest failures.test.js --no-coverage || exit $?",
      "problemMatcher": []
    },
    {
      "label": "fail:sequential-pipeline",
      "type": "shell",
      "command": "echo '‚úÖ Pipeline would complete here if dependencies passed'",
      "dependsOn": ["fail:exit1"],
      "dependsOrder": "sequence",
      "problemMatcher": []
    },
    {
      "label": "fail:parallel-checks",
      "type": "shell",
      "command": "echo '‚úÖ All checks passed'",
      "dependsOn": ["lint", "fail:exit2"],
      "problemMatcher": []
    },
    {
      "label": "fail:nested-child",
      "type": "shell",
      "command": "echo 'Child task...' && sleep 1 && exit 1",
      "problemMatcher": []
    },
    {
      "label": "fail:nested-middle",
      "type": "shell",
      "command": "echo '‚úÖ Middle task complete'",
      "dependsOn": ["fail:nested-child"],
      "problemMatcher": []
    },
    {
      "label": "fail:nested-parent",
      "type": "shell",
      "command": "echo '‚úÖ Parent task complete'",
      "dependsOn": ["fail:nested-middle"],
      "problemMatcher": []
    },
    {
      "label": "fail:partial-success",
      "type": "shell",
      "command": "echo '‚úÖ Partial completion'",
      "dependsOn": ["fail:exit1", "fail:exit2", "lint"],
      "dependsOrder": "parallel",
      "problemMatcher": []
    },
    {
      "label": "fail:background-crash",
      "type": "shell",
      "command": "echo 'Background task started...' && sleep 3 && echo 'Crashing!' && exit 1",
      "isBackground": false,
      "problemMatcher": []
    },
    {
      "label": "test:all",
      "type": "shell",
      "command": "npm test",
      "group": "test",
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },
    {
      "label": "test:validate",
      "type": "shell",
      "command": "node validate-tests.js",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "test:lifecycle",
      "type": "shell",
      "command": "npx mocha test/process-lifecycle.test.js --ui tdd --timeout 30000",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "test:failures",
      "type": "shell",
      "command": "npx mocha test/failure-scenarios.test.js --ui tdd --timeout 30000",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "test:concurrency",
      "type": "shell",
      "command": "npx mocha test/concurrency.test.js --ui tdd --timeout 30000",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "test:resources",
      "type": "shell",
      "command": "npx mocha test/resource-management.test.js --ui tdd --timeout 30000",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "test:stress",
      "type": "shell",
      "command": "npx mocha test/integration-stress.test.js --ui tdd --timeout 60000",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "test:lint",
      "type": "shell",
      "command": "npm run lint",
      "group": "test",
      "problemMatcher": ["$eslint-stylish"]
    },
    {
      "label": "multi-source:test",
      "type": "shell",
      "command": "echo 'Running multi-source tests from: workspace tasks.json.' && sleep 3",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "test:quick-suite",
      "type": "shell",
      "command": "echo 'üß™ Running quick test validation...'",
      "dependsOn": ["test:validate", "test:lint"],
      "dependsOrder": "sequence",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "test:full-suite",
      "type": "shell",
      "command": "echo '‚úÖ Full test suite completed'",
      "dependsOn": ["test:lifecycle", "test:failures", "test:concurrency", "test:resources"],
      "dependsOrder": "sequence",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "test:ci",
      "type": "shell",
      "command": "echo 'üöÄ CI test pipeline completed'",
      "dependsOn": ["compile", "test:lint", "test:all"],
      "dependsOrder": "sequence",
      "group": "test",
      "problemMatcher": []
    },
    {
      "label": "test:coverage",
      "type": "shell",
      "command": "npm run coverage",
      "group": "test",
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      }
    },

    // ‚îÄ‚îÄ‚îÄ Demo: Multi-level dependency pipeline ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // Stage 1 leaf tasks (parallel)
    {
      "label": "demo:s1-lint",
      "type": "shell",
      "command": "echo 'üîç Linting...' && sleep 2 && echo '‚úÖ Lint passed'",
      "problemMatcher": []
    },
    {
      "label": "demo:s1-types",
      "type": "shell",
      "command": "echo 'üîç Type checking...' && sleep 3 && echo '‚úÖ Types OK'",
      "problemMatcher": []
    },
    {
      "label": "demo:s1-format",
      "type": "shell",
      "command": "echo 'üîç Checking format...' && sleep 1 && echo '‚úÖ Format OK'",
      "problemMatcher": []
    },
    // Stage 2 leaf tasks (sequential)
    {
      "label": "demo:s2-unit",
      "type": "shell",
      "command": "echo 'üß™ Running unit tests...' && sleep 2 && echo '‚úÖ Unit tests passed'",
      "problemMatcher": []
    },
    {
      "label": "demo:s2-integration",
      "type": "shell",
      "command": "echo 'üß™ Running integration tests...' && sleep 3 && echo '‚úÖ Integration tests passed'",
      "problemMatcher": []
    },
    {
      "label": "demo:s2-e2e",
      "type": "shell",
      "command": "echo 'üß™ Running e2e tests...' && sleep 4 && echo '‚úÖ E2E tests passed'",
      "problemMatcher": []
    },
    // Stage 3 leaf tasks (parallel)
    {
      "label": "demo:s3-bundle",
      "type": "shell",
      "command": "echo 'üì¶ Bundling app...' && sleep 3 && echo '‚úÖ Bundle complete'",
      "problemMatcher": []
    },
    {
      "label": "demo:s3-assets",
      "type": "shell",
      "command": "echo 'üì¶ Processing assets...' && sleep 2 && echo '‚úÖ Assets ready'",
      "problemMatcher": []
    },
    {
      "label": "demo:s3-docs",
      "type": "shell",
      "command": "echo 'üì¶ Generating docs...' && sleep 1 && echo '‚úÖ Docs generated'",
      "problemMatcher": []
    },
    // Stage mid-level tasks
    {
      "label": "demo:stage-1",
      "type": "shell",
      "command": "echo '‚úÖ Stage 1: Static analysis complete'",
      "dependsOn": ["demo:s1-lint", "demo:s1-types", "demo:s1-format"],
      "problemMatcher": []
    },
    {
      "label": "demo:stage-2",
      "type": "shell",
      "command": "echo '‚úÖ Stage 2: Test suite complete'",
      "dependsOn": ["demo:s2-unit", "demo:s2-integration", "demo:s2-e2e"],
      "dependsOrder": "sequence",
      "problemMatcher": []
    },
    {
      "label": "demo:stage-3",
      "type": "shell",
      "command": "echo '‚úÖ Stage 3: Build artifacts complete'",
      "dependsOn": ["demo:s3-bundle", "demo:s3-assets", "demo:s3-docs"],
      "problemMatcher": []
    },
    // Root pipeline
    {
      "label": "demo:pipeline",
      "type": "shell",
      "command": "echo 'üöÄ Full pipeline complete!'",
      "dependsOn": ["demo:stage-1", "demo:stage-2", "demo:stage-3"],
      "dependsOrder": "sequence",
      "problemMatcher": []
    }
  ]
}
